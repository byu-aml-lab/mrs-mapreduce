.. _installation:


************
Installation
************

.. _installing_mrs:

If you are familiar with Python and the Linux environment, you should have no
difficulty installing Mrs and running it with the example wordcount program in
three minutes or less.


Prerequisites
=============

Mrs is supported on Linux and Mac OS.  It is not currently supported
on Windows, although this may change in the future.

The only mandatory prerequisite for Mrs is `Python <http://python.org/>`_,
which is already installed on most Linux and Mac OS systems.  Mrs does not
rely on any libraries outside the Python Standard Library.  However, the
following optional utilities can be very helpful when running Mrs in parallel:

- `pssh <http://code.google.com/p/parallel-ssh/>`_

- `screen <http://www.gnu.org/software/screen/>`_ (most Linux distributions
  already have this installed)


Installation
============

Step 1: Download
----------------

Download and unpack the tar file from the
`Mrs Downloads <http://code.google.com/p/mrs-mapreduce/downloads/list>`_
page or use `Git <http://git-scm.com/>`_ to clone the repository::

    > git clone https://code.google.com/p/mrs-mapreduce/

The path to the resulting ``mrs-mapreduce`` directory is referred to as
``$MRS_HOME`` throughout the documentation, although it is not actually
necessary to create a ``MRS_HOME`` environment variable.

Step 2: Install
---------------

The ``mrs`` module must be on the Python path.  There are two options for
how to do this:

1. Navigate to the ``$MRS_HOME`` folder and run setup.py as root (see notes
below if you don't have root access, or you have problems running setup.py).
::

    > sudo python setup.py install

2. Manually add ``MRS_HOME`` to your Python path.  To make this automatically
take effect at login, set the ``PYTHONPATH`` environment variable in your
``.bashrc`` file (or the equivalent if you're using some other shell).
For example, if you are using Bash and have an empty Python path, add the
following to ``.bashrc``::

    > export PYTHONPATH="$MRS_HOME"

Step 3: Run WordCount to Verify the Installation
------------------------------------------------

Verify correct installation by running the example WordCount program
from the ``$MRS_HOME/examples`` directory, passing it an input text file and
an output directory name. ::

    > python wordcount.py myTextFile.txt myOutputDir

If all went well you should have a file called source_something_something.mtxt
in your output directory containing a list of all the words in the text file
with their respective counts.


Troubleshooting
===============

Errors running setup.py
-----------------------

If you have problems running setup.py, you probably don't have setuptools
installed. To install it, run the following commands: ::

    > wget 'http://peak.telecommunity.com/dist/ez_setup.py'
    > sudo python ez_setup.py

Other Problems
--------------

With any other installation problems, please post a question to the
`Mrs Mailing List <http://groups.google.com/group/mrs-mapreduce>`_.
